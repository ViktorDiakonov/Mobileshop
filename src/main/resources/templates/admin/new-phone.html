<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Сторінка додавання нового телефону</title>
    <link rel="stylesheet" type="text/css" href="/css/admin.css">
</head>
<body>
<div class="container">
    <h3>Форма додавання нового телефону</h3>
    <form novalidate th:method="POST" th:action="@{/mobileshop}" th:object="${phone}" enctype="multipart/form-data">
        <br>
        <br>
        <div style="color: red; font-size: 14px; text-align: right;"
             th:if="${#fields.hasErrors('brand')}" th:errors="*{brand}">Brand Error
        </div>
        <div class="form-group">
            <label for="brand">Виробник:</label>
            <input type="text" th:field="*{brand}" id="brand" pattern="[a-z,A-Z]{2,15}" required>
        </div>

        <div style="color: red; font-size: 14px; margin-bottom: 5px; text-align: right;"
             th:if="${#fields.hasErrors('model')}" th:errors="*{model}">Model Error
        </div>
        <div class="form-group">
            <label for="model">Модель:</label>
            <input type="text" th:field="*{model}" id="model" minlength="2" maxlength="25" required>
        </div>

        <div style="color: red; font-size: 14px; margin-bottom: 5px; text-align: right;"
             th:if="${#fields.hasErrors('memorySize')}" th:errors="*{memorySize}">MemorySize Error
        </div>
        <div class="form-group">
            <label for="memorySize">Вбудована пам'ять (Gb):</label>
            <input type="text" th:field="*{memorySize}" id="memorySize" pattern="\d{1,4}" required>
        </div>

        <div style="color: red; font-size: 14px; margin-bottom: 5px; text-align: right;"
             th:if="${#fields.hasErrors('price')}" th:errors="*{price}">Price Error
        </div>
        <div class="form-group">
            <label for="price">Ціна (₴):</label>
            <input type="text" th:field="*{price}" id="price" pattern="\d{1,6}" required>
        </div>

        <div class="form-group">
            <label for="image">Фото:</label>
            <input type="file" id="image" name="image" accept="image/*" style="display: none;">
            <button type="button" onclick="document.getElementById('image').click()">Виберіть файл</button>&nbsp;
            <span id="file-name">Файл не обрано</span>
        </div>

        <script>
            document.getElementById('image').addEventListener('change', function () {
                let fileName = this.files.length > 0 ? this.files[0].name : "Файл не обрано";
                document.getElementById('file-name').textContent = fileName;
            });
        </script>
        <br>
        <div>
            <input type="submit" value="Відправити">
        </div>
    </form>
</div>
<br>
<p>
    <a class="button" href="/mobileshop/admin_page">Сторінка адміністратора</a>
</p>

</body>
</html>
